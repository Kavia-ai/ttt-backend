{"is_source_file": true, "format": "Python", "description": "This file manages database configuration, session handling, and CRUD operations for game-related data in a Tic-Tac-Toe backend, including game creation, retrieval, updating, deletion, move management, and game statistics.", "external_files": ["app.extensions", "app.models.game"], "external_methods": ["db.create_all", "db.session.add", "db.session.commit", "db.session.rollback", "db.session.delete", "Game.query.get", "GameMove.query.filter_by", "GameStats.query.filter_by", "GameStats.query.join"], "published": ["init_db", "create_game", "get_game", "update_game", "delete_game", "add_move", "get_game_moves", "get_game_stats", "update_game_stats"], "classes": [{"name": "Game", "description": "Represents a Tic-Tac-Toe game instance."}, {"name": "GameMove", "description": "Represents a move made in a game."}, {"name": "GameStats", "description": "Stores statistics for games at different difficulty levels."}], "methods": [{"name": "init_db", "description": "Initializes the database with the Flask app, creates tables, and sets up game statistics."}, {"name": "_init_game_stats", "description": "Initializes game statistics for 'easy', 'medium', and 'hard' difficulty levels if they do not exist."}, {"name": "create_game", "description": "Creates a new game with specified difficulty."}, {"name": "get_game", "description": "Retrieves a game by its ID."}, {"name": "update_game", "description": "Updates the game state, including board, current player, status, winner, and outcome."}, {"name": "delete_game", "description": "Deletes a game and its moves."}, {"name": "add_move", "description": "Adds a move to a game at a specified position by a player."}, {"name": "get_game_moves", "description": "Retrieves all moves for a game in chronological order."}, {"name": "get_game_stats", "description": "Fetches game statistics for a given difficulty level."}, {"name": "update_game_stats", "description": "Updates statistics for wins, losses, draws, and total moves for a difficulty level."}], "calls": ["db.create_all", "db.session.add", "db.session.commit", "db.session.rollback", "db.session.delete", "Game.query.get", "GameMove.query.filter_by", "GameStats.query.filter_by", "GameStats.query.join", "update_game_stats"], "search-terms": ["database configuration", "session management", "game creation", "game statistics", "move management", "game retrieval", "game update", "game deletion"], "state": 2, "ctags": [], "filename": "app/database.py", "format-version": 4, "code-base-name": "https://github.com/Kavia-ai/ttt-backend.git:main", "knowledge_revision": 9, "git_revision": "69b32ae4e74a0014b11bd2fab3fd263acb3af34c", "revision_history": [{"9": "69b32ae4e74a0014b11bd2fab3fd263acb3af34c"}]}