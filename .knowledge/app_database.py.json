{"is_source_file": true, "format": "Python", "description": "This file manages database configuration, session handling, and CRUD operations for game-related data in a Tic-Tac-Toe backend, including game creation, updates, move management, and statistics tracking.", "external_files": ["app.extensions", "app.models.game"], "external_methods": ["db.create_all", "db.session.add", "db.session.commit", "db.session.rollback", "Game.query.get", "GameStats.query.filter_by", "GameMove.query.filter_by", "GameMove.query.join"], "published": ["init_db", "create_game", "get_game", "update_game", "delete_game", "add_move", "get_game_moves", "get_game_stats", "update_game_stats"], "classes": [], "methods": [{"name": "init_db", "description": "Initializes the database with tables and default game statistics."}, {"name": "_init_game_stats", "description": "Sets up default game statistics for 'easy', 'medium', and 'hard' difficulty levels if they do not exist."}, {"name": "create_game", "description": "Creates a new game with specified difficulty."}, {"name": "get_game", "description": "Retrieves a game by its ID."}, {"name": "update_game", "description": "Updates the state of an existing game, including board, current player, status, winner, and outcome."}, {"name": "delete_game", "description": "Deletes a game and its associated moves."}, {"name": "add_move", "description": "Adds a move to a game at a specified position by a player."}, {"name": "get_game_moves", "description": "Retrieves all moves for a game in chronological order."}, {"name": "get_game_stats", "description": "Fetches game statistics for a given difficulty level."}, {"name": "update_game_stats", "description": "Updates statistics for wins, losses, draws, and total moves for a difficulty level."}], "calls": ["db.create_all", "db.session.add", "db.session.commit", "db.session.rollback", "Game.query.get", "GameStats.query.filter_by", "GameMove.query.filter_by", "GameMove.query.join", "update_game_stats"], "search-terms": ["database configuration", "session management", "game creation", "game update", "move management", "game statistics", "SQLAlchemy", "Flask app"], "state": 2, "file_id": 5, "knowledge_revision": 18, "git_revision": "69b32ae4e74a0014b11bd2fab3fd263acb3af34c", "revision_history": [{"13": "69b32ae4e74a0014b11bd2fab3fd263acb3af34c"}, {"13": "69b32ae4e74a0014b11bd2fab3fd263acb3af34c"}, {"18": "69b32ae4e74a0014b11bd2fab3fd263acb3af34c"}], "ctags": [], "filename": "app/database.py", "format-version": 4, "code-base-name": "https://github.com/Kavia-ai/ttt-backend.git:main"}